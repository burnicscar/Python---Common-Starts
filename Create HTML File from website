# import os to update pip and rename html file

import os 
os.system('pip3 install --upgrade pip')
os.system('pip3 install requests')
os.system('pip3 install beautifulsoup4')
os.system('pip3 install lxml')

# Import libraries

from bs4 import BeautifulSoup
import requests

# set the url to perform the get request

print ('Please enter url link to parse: ')
url = input()
url_page = requests.get(url)

# load the page content

page_text = url_page.content

# make a soup object by using beautiful soup and set the markup as html parser

pretty_text = BeautifulSoup(page_text, "html.parser")

# open the file in w mode and set encoding to UTF-8

with open("output.html", "w", encoding='utf-8') as file:
    # prettify the pretty_text object and convert it into a string
    file.write(str(pretty_text.prettify()))

# rename output file  to text after url deliminator 

os.rename('output.html', URL.split('/')[-1] + '.html')
